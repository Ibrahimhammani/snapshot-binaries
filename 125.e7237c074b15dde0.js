"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[125],{5125:(O,h,a)=>{a.r(h),a.d(h,{HomePage:()=>_});var l=a(177),t=a(4438),i=a(1427),f=a(467),g=a(8880),p=a(5079),c=a(5873);let S=(()=>{var o;class r{transform(n,s){return void 0===n?"":s&&n.length>s?n.substring(0,s).concat("..."):n}}return(o=r).\u0275fac=function(n){return new(n||o)},o.\u0275pipe=t.EJ8({name:"truncate",type:o,pure:!0,standalone:!0}),r})();var u=a(8231),m=a(8465),v=a(889);function b(o,r){if(1&o){const e=t.RV6();t.j41(0,"ion-card")(1,"ion-card-header")(2,"ion-card-title")(3,"ion-text",1),t.bIt("click",function(){t.eBV(e);const s=t.XpG();return t.Njj(s.displayDetails())}),t.EFF(4),t.nI1(5,"truncate"),t.k0s(),t.j41(6,"ion-button",2),t.bIt("click",function(){t.eBV(e);const s=t.XpG();return t.Njj(s.presentAlert())}),t.nrm(7,"ion-icon",3),t.k0s()(),t.j41(8,"ion-card-subtitle",1),t.bIt("click",function(){t.eBV(e);const s=t.XpG();return t.Njj(s.displayDetails())}),t.EFF(9),t.nI1(10,"date"),t.k0s()(),t.j41(11,"ion-card-content",1),t.bIt("click",function(){t.eBV(e);const s=t.XpG();return t.Njj(s.displayDetails())}),t.nrm(12,"div",4),t.j41(13,"ion-list")(14,"ion-item"),t.nrm(15,"ion-icon",5),t.j41(16,"ion-label"),t.EFF(17),t.nI1(18,"truncate"),t.k0s()(),t.j41(19,"ion-item"),t.nrm(20,"img",6),t.j41(21,"ion-label"),t.EFF(22),t.nI1(23,"number"),t.k0s()(),t.j41(24,"ion-item"),t.nrm(25,"ion-icon",7),t.j41(26,"ion-label"),t.EFF(27),t.nI1(28,"number"),t.k0s()()()()()}if(2&o){const e=t.XpG();t.R7$(4),t.JRh(t.i5U(5,8,e.snapshot.title,50)),t.R7$(5),t.JRh(t.i5U(10,11,e.snapshot.dateTime,"medium")),t.R7$(3),t.Y8G("innerHTML",e.render(e.snapshot.content),t.npT),t.R7$(5),t.JRh(t.i5U(18,14,e.snapshot.location.address,100)),t.R7$(3),t.FS9("src",e.snapshot.weather.icon,t.B4B),t.R7$(2),t.Lme("",t.i5U(23,17,e.snapshot.weather.tempC,"1.0-0")," \xb0C, ",e.snapshot.weather.condition,""),t.R7$(5),t.SpI("",t.i5U(28,20,e.snapshot.device.batteryLevel,"1.0-0")," %")}}let k=(()=>{var o;class r{isIos(){return this.platform.is("ios")}constructor(n,s,d,F){this.snapshotService=n,this.alertController=s,this.router=d,this.markdownService=F,this.platform=(0,t.WQX)(g.OD),this.index=-1,this.alertButtons=[{text:"Cancel",role:"cancel",handler:()=>{}},{text:"OK",role:"confirm",handler:()=>{this.snapshotService.deleteSnapshot(this.index)}}],this.descriptionMaxLength=80,(0,p.a)({closeOutline:c.xfX,trashOutline:c.P1A,batteryDead:c.OsD,locationOutline:c.UN$,chevronForward:c.fZ,timeOutline:c.CVk})}presentAlert(){var n=this;return(0,f.A)(function*(){yield(yield n.alertController.create({header:"Are you sure!",buttons:n.alertButtons})).present()})()}render(n){if(n&&n.length>this.descriptionMaxLength){let s=n.substring(0,this.descriptionMaxLength).lastIndexOf("\n");return this.markdownService.render(n.substring(0,s))+"..."}return this.markdownService.render(n)}displayDetails(){this.router.navigate(["edit-snapshot",this.snapshotService.getSnapshots().indexOf(this.snapshot)])}}return(o=r).titleMaxLength=50,o.\u0275fac=function(n){return new(n||o)(t.rXU(u.M),t.rXU(i.hG),t.rXU(m.Ix),t.rXU(v.R))},o.\u0275cmp=t.VBU({type:o,selectors:[["app-snapshot"]],inputs:{index:"index",snapshot:"snapshot"},standalone:!0,features:[t.aNF],decls:1,vars:1,consts:[[4,"ngIf"],[3,"click"],["fill","clear","color","medium",3,"click"],["name","close-outline","size","large","slot","icon-only"],[3,"innerHTML"],["aria-hidden","true","name","location-outline","slot","start"],["slot","start",1,"s24",3,"src"],["aria-hidden","true","name","battery-dead","slot","start"]],template:function(n,s){1&n&&t.DNE(0,b,29,23,"ion-card",0),2&n&&t.Y8G("ngIf",s.snapshot)},dependencies:[l.MD,l.bT,l.QX,l.vh,i.uz,i.he,i.iq,i.b_,i.ME,i.tN,i.HW,i.I9,i.nf,i.Jm,i.IO,S],styles:["ion-item[_ngcontent-%COMP%]{--padding-start: 0;--inner-padding-end: 0}ion-card[_ngcontent-%COMP%]{margin-top:0;margin-bottom:0}ion-card-title[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}"],changeDetection:0}),r})();var x=a(759);function j(o,r){if(1&o&&(t.j41(0,"ion-col",11),t.nrm(1,"app-snapshot",12),t.k0s()),2&o){const e=r.index,n=t.XpG();t.R7$(),t.Y8G("snapshot",n.getSnapshots()[n.getSnapshots().length-e-1])("index",n.getSnapshots().length-e-1)}}let _=(()=>{var o;class r{constructor(n){this.router=n,this.dataService=(0,t.WQX)(u.M),this.locationService=(0,t.WQX)(x.N),(0,p.a)({add:c.WQq,batteryDead:c.OsD,flashOutline:c.PRK,createOutline:c.hmR})}ngOnInit(){this.locationService.checkAndAskForLocationAccess()}refresh(n){setTimeout(()=>{n.detail.complete()},3e3)}getSnapshots(){return this.dataService.getSnapshots()}addSnapshot(){this.dataService.addSnapshot().subscribe(n=>this.dataService.saveOrUpdateSnapshot(n))}editSnapshot(){this.router.navigate(["/edit-snapshot"])}}return(o=r).\u0275fac=function(n){return new(n||o)(t.rXU(m.Ix))},o.\u0275cmp=t.VBU({type:o,selectors:[["app-home"]],standalone:!0,features:[t.aNF],decls:20,vars:3,consts:[[3,"translucent"],["color","medium"],[3,"fullscreen"],["collapse","condense"],["size","large"],["size","12","size-md","6","size-lg","3",4,"ngFor","ngForOf"],["slot","fixed","vertical","bottom","horizontal","end"],["name","add","icon","add"],["side","top"],["name","create-outline",3,"click"],["name","flash-outline",3,"click"],["size","12","size-md","6","size-lg","3"],[3,"snapshot","index"]],template:function(n,s){1&n&&(t.j41(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-title"),t.EFF(3," Snapshot "),t.k0s()()(),t.j41(4,"ion-content",2)(5,"ion-header",3)(6,"ion-toolbar")(7,"ion-title",4),t.EFF(8," Snapshot "),t.k0s()()(),t.j41(9,"ion-grid")(10,"ion-row"),t.DNE(11,j,2,2,"ion-col",5),t.k0s()()(),t.j41(12,"ion-fab",6)(13,"ion-fab-button",1),t.nrm(14,"ion-icon",7),t.k0s(),t.j41(15,"ion-fab-list",8)(16,"ion-fab-button")(17,"ion-icon",9),t.bIt("click",function(){return s.editSnapshot()}),t.k0s()(),t.j41(18,"ion-fab-button")(19,"ion-icon",10),t.bIt("click",function(){return s.addSnapshot()}),t.k0s()()()()),2&n&&(t.Y8G("translucent",!0),t.R7$(4),t.Y8G("fullscreen",!0),t.R7$(7),t.Y8G("ngForOf",s.getSnapshots()))},dependencies:[l.MD,l.Sq,i.eU,i.ai,i.BC,i.W9,k,i.lO,i.ln,i.hU,i.YW,i.iq,i.Q8,i.OL]}),r})()}}]);